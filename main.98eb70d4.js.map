{"version":3,"sources":["main.js"],"names":["siteList","document","querySelector","addButton","option","searchInput","submit","siteData","JSON","parse","localStorage","getItem","hashMap","url","color","showDelete","simplifyUrl","replace","getRamdomLightColor","r","Math","floor","random","g","b","createElement","el","template","innerHTML","trim","content","firstChild","render","Array","from","children","forEach","x","className","removeChild","node","index","simpleUrl","li","toUpperCase","slice","insertBefore","lastElementChild","addEventListener","window","open","e","stopPropagation","splice","setItem","stringify","prompt","indexOf","push","console","log","value"],"mappings":"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","file":"main.98eb70d4.js","sourceRoot":"..\\src","sourcesContent":["let siteList = document.querySelector('#siteList')\r\nlet addButton = document.querySelector('#addIcon')\r\nlet option = document.querySelector('#option')\r\nlet searchInput = document.querySelector('#searchInput')\r\nlet submit = document.querySelector('#submit')\r\nlet siteData = JSON.parse(localStorage.getItem('siteData'))\r\nlet hashMap = siteData || [\r\n  { url: 'https://segmentfault.com/', color: '#009A61' },\r\n  { url: 'https://www.bilibili.com/', color: '#fb7299' },\r\n  { url: 'https://www.zhihu.com/', color: '#0084ff' }\r\n]\r\nlet showDelete = false\r\n\r\nlet simplifyUrl = (url) => {\r\n  return url.replace('https://', '')\r\n    .replace('http://', '')\r\n    .replace('www.', '')\r\n    .replace(/\\/.*/, '')\r\n}\r\n\r\nlet getRamdomLightColor = () => {\r\n  let r = Math.floor(Math.random() * 255 + 1)\r\n  let g = Math.floor(Math.random() * 255 + 1)\r\n  let b = Math.floor(Math.random() * 255 + 1)\r\n  while (r + g < 350 && r + b < 350 && g + b < 350 || r + g > 440 && r + b > 440 && g + b > 440) {\r\n    r = Math.floor(Math.random() * 255 + 1)\r\n    g = Math.floor(Math.random() * 255 + 1)\r\n    b = Math.floor(Math.random() * 255 + 1)\r\n  }\r\n  return `rgb(${r}, ${g}, ${b})`\r\n}\r\n\r\nlet createElement = (el) => {\r\n  let template = document.createElement('template')\r\n  template.innerHTML = el.trim()\r\n  return template.content.firstChild\r\n}\r\n\r\nlet render = () => {\r\n  Array.from(siteList.children).forEach((x) => {\r\n    if (x.className === 'site') {\r\n      siteList.removeChild(x)\r\n    }\r\n  })\r\n  hashMap.forEach((node, index) => {\r\n    const simpleUrl = simplifyUrl(node.url)\r\n    const li = createElement(`<li class=\"site\">\r\n    <div class=\"wrap\" style=\"background: ${node.color}\">\r\n      <div class=\"logo\">${simpleUrl[0].toUpperCase()}</div>\r\n      <div class=\"title\">${simpleUrl[0].toUpperCase() + simpleUrl.slice(1)}</div>\r\n      <div class=\"delete\" style=\"display: ${showDelete ? 'block' : 'none'}\">\r\n        <svg class=\"icon\">\r\n          <use xlink:href=\"#icon-delete\"></use>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  </li>`)\r\n    siteList.insertBefore(li, siteList.lastElementChild)\r\n    li.querySelector('.wrap').addEventListener('click', () => {\r\n      window.open(node.url)\r\n    })\r\n    li.querySelector('.delete').addEventListener('click', (e) => {\r\n      e.stopPropagation()\r\n      hashMap.splice(index, 1)\r\n      localStorage.setItem('siteData', JSON.stringify(hashMap))\r\n      render()\r\n    })\r\n  })\r\n}\r\n\r\naddButton.addEventListener('click', () => {\r\n  let url = window.prompt('请输入要添加的网址')\r\n  if (url) {\r\n    if (url.indexOf('http') !== 0) {\r\n      url = 'https://' + url\r\n    }\r\n    hashMap.push({\r\n      url: url,\r\n      color: getRamdomLightColor()\r\n    })\r\n    localStorage.setItem('siteData', JSON.stringify(hashMap))\r\n    render()\r\n  }\r\n})\r\n\r\noption.addEventListener('click', () => {\r\n  showDelete = !showDelete\r\n  render()\r\n})\r\n\r\nsubmit.addEventListener('click', () => {\r\n  console.log(searchInput.value)\r\n  window.open('https://www.baidu.com/s?wd=' + searchInput.value)\r\n})\r\n\r\nrender()"]}